
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lab Session 3: Solving Conflicts in Git &#8212; Collaborative and Reproducible Data Science</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Lab Session 4: Version control with Jupytext" href="../lab04/lab04.html" />
    <link rel="prev" title="Lab Session 2: GitHub &amp; The Shell" href="../lab02/lab02.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Collaborative and Reproducible Data Science</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../overview.html">
   Statistics 159/259, Spring 2022 Course Summary
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Overview
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../schedule.html">
   Statistics 159/259: Weekly Plan
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Syllabus
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../syllabus.html">
   Syllabus for Statistics 159/259: Reproducible and Collaborative Statistical Data Science
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Lectures
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../lectures/intro-git/Git-Tutorial.html">
   An interactive Git Tutorial: the tool you didn’t know you needed
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../lectures/intro-git/git-visuals.html">
   Git Visuals
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../lectures/intro-jupyter/Index.html">
   An overview of Jupyter tools
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../lectures/West_Coast_HeatWave_Basic.html">
   Satellite sea surface temperatures along the West Coast of the United States
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../lectures/environments/conda-envs.html">
   A quick guide to conda environments on our JupyterHub
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../lectures/matplotlib_beyond_basics.html">
   Matplotlib: Beyond the basics
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Labs
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../lab01/lab01.html">
   Lab Session 1 - Introduction to Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../lab02/lab02.html">
   Lab Session 2: GitHub &amp; The Shell
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Lab Session 3: Solving Conflicts in Git
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../lab04/lab04.html">
   Lab Session 4: Version control with Jupytext
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../lab05/lab05.html">
   Lab Session 5: Climate data and xarray
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../lab06/lab06.html">
   Lab Session 6: Automation and Make
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../lab07/lab07.html">
   Lab Session 7: Local Installation
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/lab/lab03/lab03.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/lab/lab03/lab03.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#branching">
   1. Branching
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#merging-two-branches">
     1.1. Merging two branches
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#solving-conflicts-in-the-same-file">
     1.2. Solving conflicts in the same file
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reconstructing-past-versions">
   2. Reconstructing past versions
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#restoring-old-versions">
     2.1. Restoring old versions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#recovering-deleted-files">
     2.2. Recovering deleted files
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#collaborating-on-github-with-a-small-team">
   3. Collaborating on GitHub with a small team
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#other-useful-commands">
   4. Other useful commands
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Lab Session 3: Solving Conflicts in Git</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#branching">
   1. Branching
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#merging-two-branches">
     1.1. Merging two branches
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#solving-conflicts-in-the-same-file">
     1.2. Solving conflicts in the same file
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reconstructing-past-versions">
   2. Reconstructing past versions
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#restoring-old-versions">
     2.1. Restoring old versions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#recovering-deleted-files">
     2.2. Recovering deleted files
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#collaborating-on-github-with-a-small-team">
   3. Collaborating on GitHub with a small team
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#other-useful-commands">
   4. Other useful commands
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="lab-session-3-solving-conflicts-in-git">
<h1>Lab Session 3: Solving Conflicts in Git<a class="headerlink" href="#lab-session-3-solving-conflicts-in-git" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><strong>Statistics 159/259, Spring 2022</strong></p></li>
<li><p>Prof. F. Pérez and GSI F. Sapienza, Department of Statistics, UC Berkeley.</p></li>
<li><p>02/07/2022</p></li>
</ul>
<p>Useful links:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://stat159.datahub.berkeley.edu/hub/login?next=%2Fhub%2F">JupyterHub</a></p></li>
<li><p><a class="reference external" href="https://ucb-stat-159-s22.github.io/site/lectures/intro-git/Git-Tutorial.html#convenient-credentials-management">Convenient credentials management</a></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;Hello, my name is </span><span class="si">{n}</span><span class="s2"> and I am </span><span class="si">{a}</span><span class="s2"> year old&quot;</span>
<span class="n">sent</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="s2">&quot;facu&quot;</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">27</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sent</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hello, my name is facu and I am 27 year old
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sent</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="branching">
<h2>1. Branching<a class="headerlink" href="#branching" title="Permalink to this headline">¶</a></h2>
<p>Let’s start with some basic warm up. This is something we have seen along the lectures, but now is your turn of doing it. We are going to emulate two programmers working in different branches of the same repository and then merging them.</p>
<p>For the purposes of this exercise, we recommend you to create a <code class="docutils literal notranslate"><span class="pre">test</span></code> repository just as we did in our previous sessions. You can do this by creating a new folder in the JupyterHub and then <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">init</span></code>. You can also create a remote repository in GitHub. This is a really good way to creating and pushing to a new repository. In order to do this, go to your GitHub account and create a new repository (preferably make it private and without a README file, since you probably already have some contents in your repository). Remember that you need to add and commit one file to your repository!</p>
<div class="section" id="merging-two-branches">
<h3>1.1. Merging two branches<a class="headerlink" href="#merging-two-branches" title="Permalink to this headline">¶</a></h3>
<p>We are working in our <code class="docutils literal notranslate"><span class="pre">main</span></code> branch of our repository and then we want to try some new experiments in a new branch. If everything goes well with our experiment, we may wish to merge it to <code class="docutils literal notranslate"><span class="pre">main</span></code>.</p>
<ol class="simple">
<li><p>Create a new branch, for example by using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">switch</span> <span class="pre">-</span> <span class="pre">c</span> <span class="pre">&lt;branchname&gt;</span></code>. You can also create a new branch with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">&lt;branchname&gt;</span></code> and move to the new branch with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">&lt;branchname&gt;</span></code>.</p></li>
<li><p>Push to remote from a new branch: push a new file in that branch to the remote repository. What happens when you do this? If you try to <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span></code> changes in a new branch that you just created, you will receive the following message error <code class="docutils literal notranslate"><span class="pre">fatal:</span> <span class="pre">The</span> <span class="pre">current</span> <span class="pre">branch</span> <span class="pre">&lt;branch</span> <span class="pre">name&gt;</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">upstream</span> <span class="pre">branch</span></code>. This is because you have just created the branch in local and no in remote. Instead, the first time you push a file to a new branch you have to do <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">-u</span> <span class="pre">origin</span> <span class="pre">&lt;branch</span> <span class="pre">name&gt;</span></code> (<code class="docutils literal notranslate"><span class="pre">-u</span></code> is just a shortcut for <code class="docutils literal notranslate"><span class="pre">--set-upstream</span></code>).</p></li>
<li><p>Switch to <code class="docutils literal notranslate"><span class="pre">main</span></code> again and make changes in a different file.</p></li>
<li><p>Merge both branches. Notice that you can merge directly on GitHub. If you go to the remote repository in your GitHub account, you will see the option for <code class="docutils literal notranslate"><span class="pre">compare</span> <span class="pre">and</span> <span class="pre">pull</span> <span class="pre">request</span></code>  .</p></li>
<li><p>Delete the old branch (See more info <a class="reference external" href="https://www.freecodecamp.org/news/git-delete-branch-how-to-remove-a-local-or-remote-branch/">here</a>):</p>
<ol class="simple">
<li><p>From your local repository: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">-d</span> <span class="pre">&lt;branchname&gt;</span></code></p></li>
<li><p>From your remote repository: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">&lt;remote</span> <span class="pre">name&gt;</span> <span class="pre">-d</span> <span class="pre">&lt;branch</span> <span class="pre">name&gt;</span></code></p></li>
</ol>
</li>
</ol>
</div>
<div class="section" id="solving-conflicts-in-the-same-file">
<h3>1.2. Solving conflicts in the same file<a class="headerlink" href="#solving-conflicts-in-the-same-file" title="Permalink to this headline">¶</a></h3>
<p>While git is very good at merging, if two different branches modify the same file in the same location, it simply can’t decide which change should prevail.  At that point, human intervention is necessary to make the decision.  Git will help you by marking the location in the file that has a problem, but it’s up to you to resolve the conflict.  Let’s see how that works by intentionally creating a conflict.</p>
<p>For this task, follow the next steps:</p>
<ol class="simple">
<li><p>Create a new branch and make some changes to an specific file, let’s say <code class="docutils literal notranslate"><span class="pre">text.txt</span></code>. Remember to commit this changes! You can push the changes too, although this is not necessary to reproduce the error in your local repository.</p></li>
<li><p>Comeback to the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch and do some more modifications to the same file <code class="docutils literal notranslate"><span class="pre">text.txt</span></code>. Commit the changes again!</p></li>
<li><p>Now, if you try to <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">merge</span> <span class="pre">&lt;newbranch&gt;</span></code> now (as we did in the previous section), you will see the next message error</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Auto</span><span class="o">-</span><span class="n">merging</span> <span class="n">text</span><span class="o">.</span><span class="n">txt</span>
<span class="n">CONFLICT</span> <span class="p">(</span><span class="n">content</span><span class="p">):</span> <span class="n">Merge</span> <span class="n">conflict</span> <span class="ow">in</span> <span class="n">text</span><span class="o">.</span><span class="n">txt</span>
<span class="n">Automatic</span> <span class="n">merge</span> <span class="n">failed</span><span class="p">;</span> <span class="n">fix</span> <span class="n">conflicts</span> <span class="ow">and</span> <span class="n">then</span> <span class="n">commit</span> <span class="n">the</span> <span class="n">result</span><span class="o">.</span><span class="s1">&#39;</span>
</pre></div>
</div>
<ol class="simple">
<li><p>If you see now the contents of <code class="docutils literal notranslate"><span class="pre">text.txt</span></code>, you will see that both changes are overlapped in the same file (you can just see the contents by using <code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">text.txt</span></code> or using the Midnight Commander). In order to solve the conflict, you need to edit the file manually and decide with changes to keep. Use any text editor (micro, emacs, etc) to edit such file and keep the changes you want.</p></li>
<li><p>Commit your changes</p></li>
</ol>
</div>
</div>
<div class="section" id="reconstructing-past-versions">
<h2>2. Reconstructing past versions<a class="headerlink" href="#reconstructing-past-versions" title="Permalink to this headline">¶</a></h2>
<p>Sometimes we make accidental changes to some of the files in a repository, or maybe we just want to comeback to a previous version. In any case, it is easy to restore or even recover old versions of files that have been track in a commit message.</p>
<div class="section" id="restoring-old-versions">
<h3>2.1. Restoring old versions<a class="headerlink" href="#restoring-old-versions" title="Permalink to this headline">¶</a></h3>
<p>For this example, we are going to make modifications to one of the files in our repository and then recover some of the older versions.</p>
<ol class="simple">
<li><p>Make more than one change in the same file in your repository, for example you can use write some new text inside <code class="docutils literal notranslate"><span class="pre">text.txt</span></code>. With <code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">&quot;...&quot;</span> <span class="pre">&gt;&gt;</span> <span class="pre">text.txt</span></code> you will print new lines at the end of <code class="docutils literal notranslate"><span class="pre">text.txt</span></code> (with <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> you will just overwrite all the contents).</p></li>
<li><p>Try to restore previous version of such file by using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">&lt;commit&gt;</span> <span class="pre">&lt;filename&gt;</span></code>. You will need to specify the stage at which you want to restore the file. You can do this by looking at the log of the repository (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code>, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">slog</span></code>, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span> <span class="pre">--all</span></code>, …): this is why commit messages are so important!</p></li>
</ol>
<p>Observation: you can also see old versions of your files directly on GitHub, in case you need to inspect previous versions of files.</p>
</div>
<div class="section" id="recovering-deleted-files">
<h3>2.2. Recovering deleted files<a class="headerlink" href="#recovering-deleted-files" title="Permalink to this headline">¶</a></h3>
<p>Now, let’s practice deleting and recovering an specific file</p>
<ol class="simple">
<li><p>Remove one of the files in your test repository. You can also just create a new file and remove it. To do so, use the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rm</span> <span class="pre">&lt;file</span> <span class="pre">name&gt;</span></code>. You can take a look to this <a class="reference external" href="https://www.atlassian.com/git/tutorials/undoing-changes/git-rm">link</a> to see some flags you can add to this command.</p></li>
<li><p>If you haven’t commit your changes, you can recover the file just by coming back to the previous snapshot of the repository by using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">HEAD</span></code></p></li>
<li><p>Now, if you make a commit after removing the changes, you need to do a little bit more of work. Use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">slog</span> <span class="pre">--</span> <span class="pre">&lt;filename&gt;</span></code> to see all the history associated to the file you removed and then use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">&lt;commit&gt;</span> <span class="pre">--</span> <span class="pre">&lt;filename&gt;</span></code> to recover it.</p></li>
</ol>
</div>
</div>
<div class="section" id="collaborating-on-github-with-a-small-team">
<h2>3. Collaborating on GitHub with a small team<a class="headerlink" href="#collaborating-on-github-with-a-small-team" title="Permalink to this headline">¶</a></h2>
<p>We are going to set up a shared collaboration with one partner (the person sitting next to you).  This will show the basic workflow of collaborating on a project with a small team where everyone has write privileges to the same repository.</p>
<p>We will have two people, let’s call them Alice and Bob, sharing a repository.  Alice will be the owner of the repository and she will give Bob write privileges.</p>
<p>We begin with a simple synchronization example, much like we just did above, but now between <strong>two people</strong> instead of one person.  Otherwise it’s the same:</p>
<ul class="simple">
<li><p>Bob clones Alice’s repository.</p></li>
<li><p>Bob makes changes to a file and commits them locally.</p></li>
<li><p>Bob pushes his changes to GitHub.</p></li>
<li><p>Alice pulls Bob’s changes into her own repository.</p></li>
</ul>
<p>Next, we will have both parties make non-conflicting changes each, and commit them locally.  Then both try to push their changes:</p>
<ul class="simple">
<li><p>Alice adds a new file, <code class="docutils literal notranslate"><span class="pre">alice.txt</span></code> to the repo and commits.</p></li>
<li><p>Bob adds <code class="docutils literal notranslate"><span class="pre">bob.txt</span></code> and commits.</p></li>
<li><p>Alice pushes to GitHub.</p></li>
<li><p>Bob tries to push to GitHub.  What happens here?</p></li>
</ul>
<p>The problem is that Bob’s changes create a commit that conflicts with Alice’s, so git refuses to apply them.  It forces Bob to first do the merge on his machine, so that if there is a conflict in the merge, Bob deals with the conflict manually (git could try to do the merge on the server, but in that case if there’s a conflict, the server repository would be left in a conflicted state without a human to fix things up).  The solution is for Bob to first pull the changes.</p>
</div>
<div class="section" id="other-useful-commands">
<h2>4. Other useful commands<a class="headerlink" href="#other-useful-commands" title="Permalink to this headline">¶</a></h2>
<p>If you already finished all the previous tasks, you are welcome to explore some more useful git commands!</p>
<ul class="simple">
<li><p><a class="reference external" href="http://www.kernel.org/pub/software/scm/git/docs/git-show.html">show</a></p></li>
<li><p><a class="reference external" href="http://www.kernel.org/pub/software/scm/git/docs/git-reflog.html">reflog</a></p></li>
<li><p><a class="reference external" href="http://www.kernel.org/pub/software/scm/git/docs/git-rebase.html">rebase</a></p></li>
<li><p><a class="reference external" href="http://www.kernel.org/pub/software/scm/git/docs/git-tag.html">tag</a></p></li>
<li><p><a class="reference external" href="https://mirrors.edge.kernel.org/pub/software/scm/git/docs/git-fetch.html">fetch</a></p></li>
</ul>
<p>Can you think in a situation where these commands may result useful? For example, instead of using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code>, can you do the same with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span></code> and then <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">merge</span></code>? If so, what can be the advantage of doing such a thing?</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./lab/lab03"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../lab02/lab02.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Lab Session 2: GitHub &amp; The Shell</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../lab04/lab04.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Lab Session 4: Version control with Jupytext</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Fernando Pérez<br/>
    
        &copy; Copyright 2022.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>